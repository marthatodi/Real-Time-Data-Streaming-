<div class="chat-container">
  

  <h2>Chat via WebSockets</h2>
  <span class="subtitle">Hello..is it me you are looking for? 
    
  </span>
  <div class="chat-box">
    <ng-container *ngIf="currentMessage !== ''">
      <p *ngIf="theWholeMessage else break" class="response-message bot">{{ currentMessage }}</p>
      <ng-template #break>
        <div *ngFor="let message of messages let index=index">
          <p  class="response-message bot">{{ messages[index] || currentMessage }}</p>
        </div>
      </ng-template>
      <div style="font-style: italic; font-size: 12px; color: #113f67; font-weight: bold;" *ngIf="totalTime">
        finished in {{totalTime}} sec
      </div>
   </ng-container>
  </div>

  <div class="input-container">
    <input type="text" #input placeholder="Type your message here..." />
    <button (click)="sendMessage(input.value); ">Send</button>
  </div>
  
</div>
 <!-- Toggle switch -->
  <div style="margin-left: 20px;">
 <label class="switch">   
  <input type="checkbox"  (change)="toggleChat()">
  <span class="slider"></span>
</label>
<span style="margin-left:5px;" [ngStyle]="{color: !theWholeMessage ? '#cadefc' : '#680747'}" >{{ !theWholeMessage ? 'Streamed Response' : 'Combined Response' }}</span> 
</div>
